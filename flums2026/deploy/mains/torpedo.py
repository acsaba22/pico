import framebuf
import liblcd
import random
import time

BOARD_WIDTH = 10
BOARD_HEIGHT = 10

class Square(object):

    FACE_EMPTY = 0
    FACE_SHIP = 1
    FACE_SHIP_HIT = 2
    FACE_SHIP_SUNK = 3
    FACE_EMPTY_HIT = 4

    FACES = {
      FACE_EMPTY: bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'),
      FACE_SHIP: bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'),
      FACE_SHIP_HIT: bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'),
      FACE_SHIP_SUNK: bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef\xff\xff\x00\x00\x00\x00\xff\xff{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef\xff\xff\x00\x00\x00\x00\xff\xff{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\xff\xff\x00\x00\x00\x00\xff\xff{\xef{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef{\xef\xff\xff\x00\x00\x00\x00\xff\xff{\xef{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef{\xef\xff\xff\x00\x00\x00\x00\xff\xff{\xef{\xef{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef{\xef{\xef\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff{\xef{\xef{\xef\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d\x05\x1d{\xef{\xef{\xef\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'),
      FACE_EMPTY_HIT: bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe8\xe4\xe8\xe4\xe8\xe4\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'),
    }
    FB_MAYBE = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\x00\x00\x00\x00\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\xc6\x18\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')

    WIDTH, HEIGHT = 30, 30

    def __init__(self, lcd, x, y):
        self.x, self.y = x, y
        x1, y1 = x*Square.WIDTH+10, y*Square.HEIGHT+10
        x2, y2 = x1+Square.WIDTH-1, y1+Square.HEIGHT-1
        self.lcd = lcd
        self._sprite_box = liblcd.Box(x1, x2, y1, y2)
        self._touch_area = liblcd.Box(x1+2, x2+2, y1-2, y2-2)
        self.setFace(Square.FACE_EMPTY)

    def setFace(self, face):
        self.face = face
        self.lcd.ShowBufferAtBox(
            self._sprite_box,
            Square.FACES[self.face])

    def isHit(self):
        return self.face in (Square.FACE_SHIP_HIT, Square.FACE_EMPTY_HIT)

    def draw(self):
        self.setFace(self.face)

    def setMaybe(self, maybe):
        if maybe:
            buf = Square.FACES[self.face][:]
            fb = framebuf.FrameBuffer(buf, Square.WIDTH, Square.HEIGHT, framebuf.RGB565)
            fb_maybe = framebuf.FrameBuffer(Square.FB_MAYBE, Square.WIDTH, Square.HEIGHT, framebuf.RGB565)
            fb.blit(fb_maybe, 0, 0, 0xffff)
            self.lcd.ShowBufferAtBox(
                self._sprite_box,
                buf)
        else:
            self.lcd.ShowBufferAtBox(
                self._sprite_box,
                Square.FACES[self.face])

    def isTouch(self, touch):
        return touch in self._touch_area


class Ship(object):
    def __init__(self, size, x, y, is_horizontal):
        self.size = size
        self.x = x
        self.y = y
        self.is_horizontal = is_horizontal
        self.lives = size

    def getCoords(self):
        if self.is_horizontal:
            return [(self.x+i,self.y) for i in range(self.size)]
        else:
            return [(self.x,self.y+i) for i in range(self.size)]

    def isAlive(self):
        return self.lives>0

    def lifeLost(self):
        self.lives -= 1

    @staticmethod
    def GetRandomShip(size):
        is_horizontal = random.choice([True, False])
        if is_horizontal:
            x = random.randint(0, BOARD_WIDTH-size)
            y = random.randint(0, BOARD_HEIGHT-1)
        else:
            x = random.randint(0, BOARD_WIDTH-1)
            y = random.randint(0, BOARD_HEIGHT-size)
        return Ship(size, x, y, is_horizontal)

    @staticmethod
    def CheckTooClose(old_ship, new_ship):
        old_coords = set(old_ship.getCoords())
        new_coords = set(new_ship.getCoords())
        for x, y in old_coords:
            for dx in range(-1, 2):
                for dy in range(-1, 2):
                    if (x+dx, y+dy) in new_coords:
                        return True
        return False

    @staticmethod
    def randomizeShips(ship_sizes = [2,2,3,3,4,5]):
        valid_layout = False
        while not valid_layout:
            ships = []
            valid_layout = True
            for size in ship_sizes:
                new_ship = Ship.GetRandomShip(size)
                too_close = False
                for old_ship in ships:
                    if Ship.CheckTooClose(old_ship, new_ship):
                        too_close = True
                        break
                if too_close:
                    valid_layout = False
                    break
                ships.append(new_ship)
        if valid_layout:
            return ships
        return None


class Board(object):
    def __init__(self, lcd, text, ships_visible):
        self.board = [[Square(lcd, x, y) for x in range(BOARD_WIDTH)] for y in range(BOARD_HEIGHT)]
        self.last_maybe_square = None
        self.lcd = lcd
        self.text = text
        self.ships_visible = ships_visible
        self.ships = []

    def placeShip(self, ship):
        self.ships.append(ship)

        if self.ships_visible:
            for x, y in ship.getCoords():
                self.board[y][x].setFace(Square.FACE_SHIP)

    def hasShip(self, x, y):
        for ship in self.ships:
            if (x,y) in ship.getCoords():
                return True
        return False

    def shot(self, x, y):
        found_ship = False
        valid_hit = False
        for ship in self.ships:
            if (x,y) in ship.getCoords():
                square = self.board[y][x]
                found_ship = True
                if not square.isHit():
                    valid_hit = True
                    ship.lifeLost()
                    if ship.isAlive():
                        square.setFace(Square.FACE_SHIP_HIT)
                    else:
                        for x, y in ship.getCoords():
                            self.board[y][x].setFace(Square.FACE_SHIP_SUNK)
        if not found_ship:
            self.board[y][x].setFace(Square.FACE_EMPTY_HIT)
            valid_hit = True
        return valid_hit

    # Returns the clicked Square after click, otherwise None
    def checkTouch(self, touch_point):
        if touch_point:
            touch_coord = liblcd.Coord(touch_point[0], touch_point[1])
            found = False
            for row in self.board:
                for square in row:
                    if square.isTouch(touch_coord):
                        found = True
                        if self.last_maybe_square:
                            if square == self.last_maybe_square:
                                break
                            self.last_maybe_square.setMaybe(False)
                            self.last_maybe_square = None
                        square.setMaybe(True)
                        self.last_maybe_square = square
                        break
                if found: break
            if not found:
                if self.last_maybe_square:
                    self.last_maybe_square.setMaybe(False)
                    self.last_maybe_square = None
        else:
            if self.last_maybe_square:
                clicked = self.last_maybe_square
                self.last_maybe_square.setMaybe(False)
                self.last_maybe_square = None
                return (clicked.x, clicked.y)
        return None

    def showLabel(self):
        LABEL_WIDTH = 100
        LABEL_HEIGHT = 30
        LABEL_X = 340
        LABEL_Y = 40
        EXPECTED_FB_SIZE = liblcd.getImageBytesize(LABEL_WIDTH, LABEL_HEIGHT)

        buf = bytearray(EXPECTED_FB_SIZE)
        left = (LABEL_WIDTH - 8*len(self.text)) // 2
        top = LABEL_HEIGHT // 2
        fb = framebuf.FrameBuffer(buf, LABEL_WIDTH, LABEL_HEIGHT, framebuf.RGB565)
        fb.fill(liblcd.WHITE)
        fb.text(self.text, left, top, liblcd.BLACK)
        self.lcd.ShowBufferAtBox(
                liblcd.Box(LABEL_X, LABEL_X+LABEL_WIDTH-1, LABEL_Y, LABEL_Y+LABEL_HEIGHT-1),
                buf)

    def show(self):
        for row in self.board:
            for square in row:
                square.draw()
        self.showLabel()

def getEnemyClick():
    time.sleep(2)
    x = random.randint(0, BOARD_WIDTH-1)
    y = random.randint(0, BOARD_HEIGHT-1)
    return (x,y)

def main():
    screen = liblcd.LCD_3inch5()
    screen.BackLight(100)
    screen.Clear()
    touch = liblcd.SmartTouch(screen)
    last_maybe_square = None

    enemy_board = Board(screen, "Enemy", False)
    for ship in Ship.randomizeShips():
        enemy_board.placeShip(ship)
    self_board = Board(screen, "Self", True)
    for ship in Ship.randomizeShips():
        self_board.placeShip(ship)

    is_enemys_turn = True
    board_shown = self_board

    board_shown.show()
    while True:
        if is_enemys_turn:
            touch.do()
            clicked = getEnemyClick()
        else:
            t = touch.get()
            clicked = board_shown.checkTouch(t)
        if clicked:
            x, y = clicked
            valid_click = board_shown.shot(x, y)
            if valid_click:
                time.sleep(1)
                is_enemys_turn = not is_enemys_turn
                if is_enemys_turn:
                    board_shown = self_board
                else:
                    board_shown = enemy_board
                board_shown.show()
                


if __name__ == '__main__':
    main()
